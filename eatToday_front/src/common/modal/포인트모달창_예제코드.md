# 📝 포인트 모달 코드 예제 모음

각 페이지에서 필요한 예제 코드를 복사해서 사용하세요!

---

## 📌 복사해서 바로 사용할 코드 템플릿

### 1단계: Script 부분에 추가
```vue
<script setup>
import { ref } from 'vue'
import PointEarnedModal from '@/common/modal/PointEarnedModal.vue'
import { POINT_POLICY } from '@/common/constants/pointPolicy'

// 모달 표시 여부
const showPointModal = ref(false)

// 활동 완료 시 호출할 함수
async function 활동완료함수() {
  try {
    // API 호출 등
    await api.호출()
    
    // 포인트 모달 표시
    showPointModal.value = true
  } catch (error) {
    console.error(error)
  }
}
</script>
```

### 2단계: Template 맨 아래에 추가
```vue
<template>
  <div>
    <!-- 기존 코드들... -->
    
    <!-- 포인트 모달 (맨 아래에 추가) -->
    <PointEarnedModal 
      :visible="showPointModal"
      :description="POINT_POLICY.[선택한활동].description"
      :points="POINT_POLICY.[선택한활동].points"
      @close="showPointModal = false"
    />
  </div>
</template>
```

---

## 🎯 실제 사용 예제

### 예제 1: 게시물 작성 완료 시 (50점)
```vue
<script setup>
import { ref } from 'vue'
import PointEarnedModal from '@/common/modal/PointEarnedModal.vue'
import { POINT_POLICY } from '@/common/constants/pointPolicy'

const showPointModal = ref(false)

async function handleCreatePost() {
  try {
    await postApi.createPost(formData)
    showPointModal.value = true  // 👈 포인트 모달 표시
  } catch (error) {
    console.error(error)
  }
}
</script>

<template>
  <div>
    <button @click="handleCreatePost">게시물 등록</button>
    
    <PointEarnedModal 
      :visible="showPointModal"
      :description="POINT_POLICY.POST_CREATE.description"
      :points="POINT_POLICY.POST_CREATE.points"
      @close="showPointModal = false"
    />
  </div>
</template>
```

### 예제 2: 댓글 작성 완료 시 (5점)
```vue
<script setup>
import { ref } from 'vue'
import PointEarnedModal from '@/common/modal/PointEarnedModal.vue'
import { POINT_POLICY } from '@/common/constants/pointPolicy'

const showPointModal = ref(false)

async function handleSubmitComment() {
  try {
    await commentApi.createComment(commentData)
    showPointModal.value = true
  } catch (error) {
    console.error(error)
  }
}
</script>

<template>
  <div>
    <button @click="handleSubmitComment">댓글 등록</button>
    
    <PointEarnedModal 
      :visible="showPointModal"
      :description="POINT_POLICY.COMMENT_CREATE.description"
      :points="POINT_POLICY.COMMENT_CREATE.points"
      @close="showPointModal = false"
    />
  </div>
</template>
```

### 예제 3: 술BTI 참여 완료 시 (10점, 자동 닫기)
```vue
<script setup>
import { ref } from 'vue'
import PointEarnedModal from '@/common/modal/PointEarnedModal.vue'
import { POINT_POLICY } from '@/common/constants/pointPolicy'

const showPointModal = ref(false)

function handleCompleteAlbti() {
  submitAlbtiResult()
  showPointModal.value = true
}
</script>

<template>
  <div>
    <button @click="handleCompleteAlbti">술BTI 완료</button>
    
    <PointEarnedModal 
      :visible="showPointModal"
      :description="POINT_POLICY.ALBTI_PARTICIPATE.description"
      :points="POINT_POLICY.ALBTI_PARTICIPATE.points"
      :auto-close="true"
      :auto-close-delay="2500"
      @close="showPointModal = false"
    />
  </div>
</template>
```

### 예제 4: 월드컵 게임 참여 완료 시 (10점, 자동 닫기)
```vue
<script setup>
import { ref } from 'vue'
import PointEarnedModal from '@/common/modal/PointEarnedModal.vue'
import { POINT_POLICY } from '@/common/constants/pointPolicy'

const showPointModal = ref(false)

function handleCompleteWorldcup() {
  submitWorldcupResult()
  showPointModal.value = true
}
</script>

<template>
  <div>
    <button @click="handleCompleteWorldcup">월드컵 완료</button>
    
    <PointEarnedModal 
      :visible="showPointModal"
      :description="POINT_POLICY.WORLDCUP_PARTICIPATE.description"
      :points="POINT_POLICY.WORLDCUP_PARTICIPATE.points"
      :auto-close="true"
      :auto-close-delay="2500"
      @close="showPointModal = false"
    />
  </div>
</template>
```

### 예제 5: 사진 리뷰 작성 완료 시 (25점)
```vue
<script setup>
import { ref } from 'vue'
import PointEarnedModal from '@/common/modal/PointEarnedModal.vue'
import { POINT_POLICY } from '@/common/constants/pointPolicy'

const showPointModal = ref(false)

async function handleCreatePhotoReview() {
  try {
    await photoReviewApi.createReview(reviewData)
    showPointModal.value = true
  } catch (error) {
    console.error(error)
  }
}
</script>

<template>
  <div>
    <button @click="handleCreatePhotoReview">리뷰 작성</button>
    
    <PointEarnedModal 
      :visible="showPointModal"
      :description="POINT_POLICY.PHOTO_REVIEW_CREATE.description"
      :points="POINT_POLICY.PHOTO_REVIEW_CREATE.points"
      @close="showPointModal = false"
    />
  </div>
</template>
```

---

## ✅ 체크리스트

구현할 때 확인사항:
- [ ] PointEarnedModal과 POINT_POLICY를 import 했는가?
- [ ] showPointModal ref 변수를 선언했는가?
- [ ] 활동 완료 후 showPointModal.value = true 를 호출했는가?
- [ ] @close 이벤트에 showPointModal.value = false를 연결했는가?
- [ ] 올바른 POINT_POLICY 상수를 사용했는가?

---

## 🚨 주의사항

1. **모달은 템플릿 맨 아래**에 추가하세요
2. API 호출이 **성공한 후**에 모달을 띄우세요
3. 자동 닫기를 원하면 `:auto-close="true"` 를 추가하세요
4. 로그인은 이미 구현되어 있습니다! (Login.vue 참고)

---
